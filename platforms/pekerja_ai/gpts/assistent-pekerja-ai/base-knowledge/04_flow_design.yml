# file: 04_flow_design.yml
# generated: 2025-05-12
# top_keys: FlowDesign_Core, FlowTriggers_AutomatedExecution, UseCase_Examples_Detailed_Walkthroughs

FlowDesign_Core:
  ContohFlowMenyimpanDataOtomatisBotGoogleSheets:
    u: pekerja_ai_doc_flow_google_sheets
    r: Menjelaskan cara kerja flow yang menyimpan data otomatis dari bot ke spreadsheet Google Sheets melalui integrasi, seperti data leads, feedback, atau pemesanan secara real-time.
    s:
      - t: Gambaran langkah:
        sub:
          - t: Pastikan sudah mendapatkan credential Google Sheets (misal melalui API Access Token).
          - t: Dalam flow, tambahkan aksi untuk mengirim data ke Google Sheets (misalnya menggunakan webhook/API Google Sheets atau fitur bawaan jika tersedia).
          - t: Tentukan Spreadsheet ID dan mapping kolom dengan data dari bot.
          - t: Saat flow dijalankan, data pengguna akan di-append sebagai baris baru di sheet tersebut.
      - t: "(Detail teknis integrasi Google Sheets: Pekerja.ai terhubung via API menggunakan token yang di-generate di Integrations. Pastikan token sudah terisi sebelum menjalankan flow ini.)"
  ContohFlowMenganalisisGambarDikirimPenggunaAI:
    u: pekerja_ai_doc_flow_image_analysis
    r: Menjelaskan flow yang memungkinkan bot menganalisis gambar (foto produk, dokumen) yang dikirim pengguna menggunakan kecerdasan AI dan memberikan hasil analisis.
    s:
      - t: Gambaran langkah:
        sub:
          - t: Flow dimulai ketika pengguna mengirim attachment gambar.
          - t: Bot kemudian memanfaatkan layanan vision AI (bisa internal atau API eksternal) untuk menganalisa konten gambar.
          - t: "Hasil analisis (misal: \"Gambar tersebut berisi sebuah mobil warna merah...\") kemudian dikirim kembali ke pengguna sebagai balasan."
      - t: "(Contoh implementasi: Bot mengirim gambar ke API visi komputer (seperti Google Vision atau OCR untuk teks), menerima hasilnya, lalu merespons pengguna. Integrasi semacam ini membutuhkan kredensial API terkait.)"
  ContohFlowMengirimEmailOtomatisPenggunaAdmin:
    u: pekerja_ai_doc_flow_send_email
    r: Mengatur bot untuk mengirim email secara otomatis kepada pengguna atau admin, misalnya notifikasi order, hasil registrasi, dsb., setelah channel Email terhubung.
    s:
      - t: Gambaran langkah:
        sub:
          - t: Pastikan channel Email sudah terhubung (seperti dijelaskan di bagian Email).
          - t: Di dalam flow, tambahkan blok Action: Send Email.
          - t: Isi detail email yang akan dikirim: alamat penerima (bisa email pengguna dari field), subjek, dan isi pesan (dapat menyertakan data yang dikumpulkan bot).
          - t: Setelah flow dijalankan (misal dipicu oleh event tertentu atau perintah admin), sistem akan mengirim email tersebut melalui akun email yang telah diintegrasikan.
      - t: "(Ingat: Pengguna harus sudah opt-in email. Flow ini biasanya dikombinasikan dengan langkah Set Email Opt-In dan pengumpulan email sebagaimana dijelaskan di integrasi Email.)"
  FlowDefaultReplySederhana:
    u: https://youtu.be/GAIJBjGgkrk
    r: Cara membuat default reply flow default replay adalah pesan otomatis yang dikirim bot saat enggak memahami pesan dari pengguna fitur ini bisa membantu kamu untuk menampilkan daftar FAQ atau pertanyaan yang...
    s:
      - t: "Pilih -> Settings"
      - t: "Pilih -> Default Reply Dropdown"
      - t: "Pilih -> Flows"
      - t: "Pilih -> Add"
      - t: Beri nama alur Anda
      - t: "Pilih -> Continue"
      - t: "Pilih -> Send Message"
      - t: "Pilih -> [+Add Content]"
      - t: "Pilih -> text"
      - t: "Ketik pesan Anda (contoh -> Halo, {{first_name}} kami kurang mengerti apa yang anda maksud, kami bantu hubungkan ke agent kami yah)"
      - t: "Pilih -> Add Button"
      - t: "Beri nama tombol Anda (contoh -> Hubungkan ke Agent)"
      - t: "Pilih -> Save"
      - t: "Tekan -> continue"
      - t: "Pilih -> Send Message (untuk langkah selanjutnya setelah tombol ditekan)"
      - t: "Pilih -> [+Add Content]"
      - t: "Pilih -> Actions -> Inbox -> transfer conversation to human (jika tombolnya untuk transfer ke agen)"
      - t: "Pilih -> Publish"
      - t: "Catatan Error: Jika error, hapus dan sambungkan ulang alur Anda, pastikan terhubung dengan tombol yang dibuat (contoh -> Hubungkan ke Agent)."
      - t: "Pilih -> Preview untuk melihat alur Anda."
  MembangunAlurKerjaAIFlowsKompleksBerbagaiKontenTindakan:
    u: https://youtu.be/zKv4uwVO1Fg
    r: Video ini membahas cara memanfaatkan fitur 'Flows' untuk membangun alur kerja otomatis yang kompleks, mencakup berbagai jenis konten (teks, gambar, video, file), tindakan (tagging, webhook, prompt AI),...
    s:
      - t: Buka menu 'Flows' dan buat Flow baru atau edit yang sudah ada.
      - t: Pilih node 'Send Message' atau klik node output dari langkah sebelumnya untuk menambahkan langkah baru.
      - t: Tentukan tipe channel (misal: Instagram, WhatsApp, atau Omni channel) jika diperlukan untuk konten/fitur spesifik channel.
      - t: "Tambahkan langkah pertama, misalnya 'Send Message'. Klik '[+Add Content]'."
      - t: Pilih jenis konten yang ingin dikirim (teks, gambar, video, kartu, file, dll.). Anda bisa menambahkan lebih dari satu konten dalam satu blok pesan.
      - t: Tambahkan 'Action' (Tindakan) otomatis jika diperlukan, seperti menambahkan tag, mengirim data ke webhook, menjalankan prompt AI, dll.
      - t: "Tambahkan 'Button' (Tombol) pada pesan untuk interaksi pengguna. Atur fungsi tombol (misal: membalas pesan, membuka URL, menjalankan Flow lain)."
      - t: Hubungkan blok-blok Flow (node) sesuai alur logika yang diinginkan menggunakan garis konektor.
      - t: Tambahkan blok konten atau tindakan baru sesuai kebutuhan untuk membangun alur yang lebih kompleks.
      - t: Simpan dan publikasikan Flow Anda. Anda dapat mengujinya secara manual melalui menu obrolan atau preview.
  DasarDasarFlowBuilderDragDrop:
    u: https://www.youtube.com/live/UKJGOqTxp7k?si=2o_F6pPLkhjFuZHu
    r: Memperkenalkan konsep drag-and-drop Flow Builder untuk merakit alur interaksi AI.
    s:
      - t: Buka menu Flow di sidebar Dashboard.
      - t: "Klik New Flow, beri nama sesuai use case (misal \"CS Toko Kamera\")."
      - t: Drag card 'Starting Step' (atau 'Default Reply' jika itu pemicunya) ke kanvas sebagai titik awal.
      - t: Drag card lain seperti 'Send Message', 'OpenAI', 'Action' ke kanvas.
      - t: Sambungkan garis dari output node satu card ke input node card berikutnya untuk membuat alur.
      - t: "Konfigurasi setiap card (misalnya, isi pesan di 'Send Message', atur prompt di 'OpenAI')."
      - t: Atur urutan dan koneksi antar card sampai alur lengkap.
      - t: Klik Publish untuk mengaktifkan flow.
  VariabelSistemSepertiLast_inputPesan:
    u: https://www.youtube.com/live/pohCJefEdxY?si=2JdBCsE7BFw-foV-
    r: "Menjelaskan penggunaan tag `{{last_input}}` untuk otomatis menangkap pesan user."
    s:
      - t: Dalam card 'Send Message' atau card lain yang mendukung input teks dinamis, ketik respons Anda.
      - t: "Sertakan variabel `{{last_input}}` untuk menampilkan input terakhir dari pengguna."
      - t: "Contoh: \"Anda mengatakan: {{last_input}}. Bagaimana saya bisa membantu lebih lanjut?\""
      - t: "Pastikan nama variabel sistem (seperti `last_input`, `first_name`) diketik dengan benar, termasuk kurung kurawal gandanya."
      - t: Klik Save pada card dan Publish flow.
      - t: Tes dengan mengirim pesan ke chatbot, lalu periksa apakah balasan mengandung input terakhir Anda dengan benar.

FlowTriggers_AutomatedExecution:
  PekerjaBotResponsOtomatisBerdasarkanKataKunciPesanPengguna:
    u: pekerja_ai_doc_pekerja_bot
    r: Fitur Pekerja Bot (Auto-response bot) menyediakan respons otomatis terhadap pesan spesifik dari pelanggan secara cepat dan konsisten, berdasarkan kata kunci atau kalimat.
    s:
      - t: Klik menu Pekerja Bot, lalu klik Add untuk menambahkan aturan bot baru.
      - t: Isi form Pekerja Bot sesuai kebutuhan, lalu Save:
        sub:
          - t: "User Message: Isi dengan kata kunci atau kalimat spesifik dari pelanggan yang ingin ditangani. Masukkan variasi kata kunci yang mewakili maksud serupa. (Contoh: untuk pertanyaan harga, masukkan kata kunci seperti harga, price, biaya, berapa)."
          - t: "Bot Response: Pilih jenis respon yang akan diberikan bot:"
            sub:
              - t: "Text Message: Bot akan membalas dengan teks biasa yang Anda tentukan."
              - t: "Flow: Bot akan menjalankan suatu Flow sebagai respon. (Misal menjalankan Flow berisi penjelasan produk secara detail.)"
      - t: Simpan pengaturan. Kini, ketika pesan pengguna mengandung kata kunci tersebut, Pekerja Bot akan merespons otomatis sesuai pengaturan.
  MenjalankanFlowSecaraTerjadwalDripCampaigns:
    u: https://youtu.be/2F-p19HcoWk
    r: Video ini menjelaskan cara menggunakan fitur Drip Campaigns untuk menjadwalkan pengiriman Flow (alur otomatis) kepada kontak pada waktu tertentu setelah mereka ditambahkan ke kampanye.
    s:
      - t: Buka menu 'Tools' (Alat) dan pilih 'Drip Campaigns'.
      - t: Buat kampanye baru dengan mengklik [Add] dan beri nama kampanye Anda.
      - t: Klik tombol '+ Message' di dalam kampanye yang baru dibuat.
      - t: Pada kolom 'Send' atau 'Action', pilih opsi untuk menjalankan 'Flow'.
      - t: Pilih Flow spesifik yang ingin dijalankan dari daftar Flow Anda.
      - t: "Pada bagian 'After', tentukan kapan Flow tersebut akan dijalankan relatif terhadap waktu kontak ditambahkan ke kampanye (misalnya, setelah 5 menit, 1 jam, 2 hari)."
      - t: Anda bisa menambahkan beberapa langkah Flow terjadwal dalam satu kampanye dengan interval waktu yang berbeda.
      - t: Klik 'Save' (Simpan) untuk menyimpan pengaturan kampanye Drip Anda.
  MenjalankanFlowSecaraOtomatisTriggersParametersParameterPemicu:
    u: https://youtu.be/AyK_hdKtCZM
    r: Video ini menunjukkan cara mengatur Triggers Parameters (Parameter Pemicu) untuk secara otomatis menjalankan Flow tertentu ketika suatu peristiwa (pemicu) terjadi, seperti saat ada kontak baru masuk.
    s:
      - t: "Buka menu 'Tools' (Alat), lalu pilih 'Triggers Parameters' (atau 'AI Parameters' / 'Automation Rules' tergantung versi UI)."
      - t: Buat pemicu baru dengan mengklik [Add] atau edit yang sudah ada.
      - t: "Pilih 'Trigger Event' (Peristiwa Pemicu) yang akan mengaktifkan aksi ini, contohnya 'New Contact' (Kontak Baru), 'Tag Applied', 'Custom Field Changed'."
      - t: "Konfigurasi detail pemicu (misalnya, jika 'Tag Applied', pilih tag mana)."
      - t: Pilih 'Action' (Aksi) yang ingin dijalankan ketika pemicu terjadi. Pilih opsi untuk menjalankan 'Flow'.
      - t: Pilih Flow spesifik yang ingin dijalankan secara otomatis (misalnya, Flow onboarding untuk kontak baru).
      - t: Simpan pengaturan parameter pemicu Anda. Flow akan otomatis berjalan ketika kondisi pemicu terpenuhi.
  MenjalankanFlowBerdasarkanKataKunciPesanPelangganPekerjaBotBotWorker:
    u: https://youtu.be/lUa07VnMvdY
    r: Video ini menjelaskan cara mengatur Pekerja Bot (Bot Worker) untuk mendeteksi pesan tertentu dari pelanggan dan kemudian menjalankan Flow sebagai respons.
    s:
      - t: "Buka menu 'Pekerja Bot' (atau 'Keywords' / 'Bot Rules' tergantung versi UI)."
      - t: Tambahkan aturan bot baru dengan mengklik [Add].
      - t: "Pada bagian 'If message from customer' (Jika pesan dari pelanggan), masukkan kata kunci atau frasa yang ingin dideteksi (misalnya, 'info produk', 'bantuan')."
      - t: "Atur kondisi kecocokan (misalnya, 'exact match' / persis sama, 'contains' / mengandung kata, 'regex')."
      - t: Pada bagian 'Bot Response' (Maka lakukan), pilih aksi yang ingin dijalankan. Pilih opsi 'Run Flow' (Jalankan Flow).
      - t: Pilih Flow spesifik yang ingin dijalankan ketika kata kunci terdeteksi.
      - t: Simpan pengaturan pekerja bot Anda.
  MenjalankanFlowAITriggersBerdasarkanDeteksiNiatIntentPelanggan:
    u: https://youtu.be/A8dY4BE-Aok
    r: Video ini menjelaskan cara menggunakan AI Triggers untuk menjalankan Flow secara otomatis berdasarkan deteksi niat (intent) atau topik tertentu dalam pesan pelanggan menggunakan kecerdasan buatan.
    s:
      - t: Mengatur AI Trigger:
        sub:
          - t: "Masuk ke menu 'Pekerja AI' (atau 'AI Tools'), lalu klik tab 'AI Trigger'."
          - t: "Tambahkan AI Trigger baru. Beri nama yang deskriptif (misalnya, 'Cek Harga', 'Tanya Stok')."
          - t: "[What does this trigger do?] Tentukan deskripsi atau contoh frasa agar AI mengenali niat ini (misalnya, saat AI mendeteksi niat bertanya harga)."
          - t: "[What data to collect?] Anda dapat menambahkan field untuk menyimpan data yang diekstrak oleh AI dari pesan (misalnya, nama produk dari pertanyaan harga). Klik tombol [Add New] untuk menambahkan field ekstraksi."
          - t: "[What flow is triggered?] Pilih Flow yang ingin dijalankan ketika trigger ini aktif. Contoh: jika AI mendeteksi pertanyaan harga, jalankan Flow 'Informasi Harga'."
          - t: (Opsional) Tambahkan pesan yang akan dikirim sebelum atau sesudah Flow berjalan.
          - t: Simpan AI Trigger Anda.
      - t: "Mengaktifkan AI Trigger dalam Prompt (jika diperlukan oleh sistem):"
        sub:
          - t: "Kembali ke menu 'Pekerja AI' dan masuk ke bagian 'Prompt' (atau konfigurasi AI utama)."
          - t: Di bagian [AI Triggers] atau sejenisnya, pastikan AI Trigger yang baru Anda buat dipilih atau diaktifkan untuk digunakan oleh model AI utama.
          - t: Simpan perubahan pada konfigurasi Prompt.
      - t: Uji hasilnya dengan mengirim pesan yang sesuai dengan niat yang telah Anda konfigurasikan pada AI Trigger.
  AITriggerEskalasiAgenManusiaBerdasarkanKondisiDinamis:
    u: https://www.youtube.com/live/IBRyfbV1-Vw?si=DvVl_XI18JAtcp6f
    r: Menjelaskan card AI Trigger untuk memindahkan percakapan ke CS manusia berdasarkan kondisi dinamis.
    s:
      - t: Tambahkan card 'AI Trigger' di titik alur tertentu dalam Flow Anda (misalnya, setelah user menyebutkan budget dan budget tersebut melebihi threshold tertentu).
      - t: "Konfigurasi AI Trigger (bisa jadi ini merujuk pada Condition yang memicu Action, atau AI Trigger yang sudah dibuat di menu terpisah):"
        sub:
          - t: "Rule: Misal, Custom Field `budget > 5000000` ATAU pesan pengguna mengandung kata kunci tertentu yang mengindikasikan urgensi."
      - t: Jika kondisi pada 'AI Trigger' (atau Condition card) terpenuhi, hubungkan ke Action 'Transfer to Human' atau 'Send Inbox Message'.
      - t: "Di flow 'Pindah Ke Manusia' (atau Action yang relevan):"
        sub:
          - t: Tambahkan card 'Send Inbox Message' (atau sejenisnya) untuk memberitahu agen.
          - t: "Konfigurasi notifikasi: tugaskan ke admin/tim tertentu, tambahkan tag 'urgent', dll."
      - t: "Publish flow dan test dengan mengirim pesan yang memenuhi kondisi trigger (misal, menyebutkan budget tinggi)."

UseCase_Examples_Detailed_Walkthroughs:
  ContohKasusMenghubungkanWebchatWidgetPekerjaAIWebsiteAnda:
    u: https://www.youtube.com/live/pohCJefEdxY?si=2JdBCsE7BFw-foV-
    r: Contoh implementasi chat widget Pekerja AI di website toko kamera sebagai use case praktis.
    s:
      - t: Di platform Pekerja AI, navigasi ke 'Connected Platforms' atau 'Channels'.
      - t: "Pilih 'Webchat'. Jika belum ada, buat konfigurasi Webchat baru (misalnya, dengan nama domain website Anda)."
      - t: Cari opsi 'Get Embed Code', 'Installation', atau 'Setup'.
      - t: "Anda akan diberikan sebuah potongan kode JavaScript (`<script>...</script>`). Copy seluruh kode ini."
      - t: "Buka file HTML utama dari website Anda (biasanya `index.html` atau template utama)."
      - t: Paste kode JavaScript yang sudah dicopy tadi tepat sebelum tag penutup `</body>` di file HTML Anda. Beberapa platform mungkin menyarankan di dalam `<head>`, ikuti instruksi spesifik dari Pekerja AI.
      - t: Simpan perubahan pada file HTML Anda dan unggah kembali ke server hosting website Anda (jika perlu).
      - t: Reload website Anda di browser. Ikon chat widget seharusnya muncul di pojok situs (biasanya kanan bawah).
      - t: Klik ikon chat widget untuk memastikan tampil dan berfungsi. Test Welcome Message dan alur chat awal sesuai dengan Flow yang terhubung ke Webchat tersebut.
  ContohKasusMembangunJalurFlowTerpisahSalesVsCustomerSupport:
    u: https://www.youtube.com/live/IBRyfbV1-Vw?si=DvVl_XI18JAtcp6f
    r: Contoh implementasi dua jalur flow berbeda untuk sales dan customer support.
    s:
      - t: "Buat Custom Field (User Field) di Flow Builder, misalnya dengan nama `user_intent` atau `knowledge_segment`."
      - t: Di awal flow utama Anda (atau setelah input awal pengguna), gunakan AI (misal, card OpenAI dengan prompt untuk klasifikasi niat) atau serangkaian pertanyaan untuk menentukan niat pengguna (Sales atau Support). Simpan hasil klasifikasi ini ke Custom Field `user_intent` (misal, nilainya 'sales' atau 'support').
      - t: Tambahkan card 'Condition'.
        sub:
          - t: "Rule 1: Jika Custom Field `user_intent` == 'sales', hubungkan output 'True' ke Flow atau bagian Flow yang dirancang khusus untuk Sales (misalnya, dengan prompt Sales, informasi produk, proses pemesanan)."
          - t: "Rule 2 (atau output 'False' dari Rule 1, yang kemudian dihubungkan ke Condition lain): Jika Custom Field `user_intent` == 'support', hubungkan ke Flow atau bagian Flow yang dirancang untuk Customer Support (misalnya, dengan prompt Support, FAQ, solusi masalah, opsi eskalasi)."
      - t: "Test skenario: Kirim chat dengan intensi pembelian (misal, \"Saya mau beli produk A\") dan pastikan AI mengarahkan ke alur Sales. Kemudian, kirim chat dengan keluhan atau pertanyaan dukungan (misal, \"Produk saya ada error\") dan pastikan AI mengarahkan ke alur Support."
      - t: Simpan dan publish flow dengan kedua jalur (sales dan support) terpisah namun terhubung melalui logika kondisi.
  PanduanLengkapMembangunSistemBookingLapanganIntegrasiTagCustomFieldAIKalender:
    u: internal-live-session-notes-2025-05-09 # This is a placeholder URL
    r: Panduan langkah demi langkah untuk membangun sistem booking lapangan menggunakan tag, custom field, AI triggers, AI parameters, flow, dan integrasi Google Calendar, berdasarkan catatan live session tanggal...
    s:
      - t: Persiapan Tag untuk Tahapan Booking
        sub:
          - t: "Buat tag berikut di sistem Anda: 'bl_perkenalan', 'bl_pengecekan', 'bl_penawaran', 'bl_pembayaran', 'bl_selesai'. (Nama tag bisa disesuaikan, 'bl_' adalah contoh prefix untuk 'booking lapangan')"
      - t: Persiapan Custom Fields dan Account Fields
        sub:
          - t: "Custom Fields (User Fields - spesifik per kontak):"
            sub:
              - t: "Nama: 'bl_nama_pelanggan', Tipe: Text"
              - t: "Nama: 'bl_reply_ai', Tipe: Text (untuk menyimpan respons dinamis dari AI)"
              - t: "Nama: 'bl_status_booking', Tipe: Text (misal: 'perkenalan', 'pengecekan', 'penawaran', 'konfirmasi', 'selesai')"
              - t: "Nama: 'bl_oprasional_mulai_request', Tipe: Date and Time (jadwal yang diminta user)"
              - t: "Nama: 'bl_oprasional_terakhir_request', Tipe: Date and Time (jadwal yang diminta user)"
              - t: "Nama: 'bl_respon_jadwal_kalender', Tipe: Text (hasil pengecekan ketersediaan dari kalender)"
              - t: "Nama: 'bl_respon_konversi_openai', Tipe: Text (hasil olahan OpenAI dari input user terkait jadwal)"
          - t: "Account Fields (Global - berlaku untuk seluruh akun):"
            sub:
              - t: "Nama: 'bl_info_profil_bisnis', Tipe: Text, Value: (isi dengan prompt atau teks yang mendeskripsikan profil bisnis Anda, jam operasional, dll.)"
              - t: "Nama: 'bl_info_gaya_komunikasi', Tipe: Text, Value: (isi dengan prompt atau teks tentang gaya komunikasi yang diinginkan dari AI)"
              - t: "Nama: 'bl_info_formula_oprasional', Tipe: Text, Value: (isi dengan prompt atau teks mengenai aturan operasional booking, misal durasi minimal, dll.)"
      - t: "Konfigurasi AI Triggers (jika platform mendukung NLU terpisah dari Flow)"
        sub:
          - t: "AI Trigger 'bl_perkenalan_intent':"
            sub:
              - t: "Deskripsi/Pemicu: 'Aktif saat AI mendeteksi pelanggan menyebutkan nama & menanyakan status/ketersediaan awal.'"
              - t: "Data yang Dikoleksi (Ekstraksi Entitas):"
                sub:
                  - t: "'status_booking_awal' -> simpan ke Custom Field 'bl_status_booking' (misal, dengan nilai 'perkenalan')"
                  - t: "'nama_pelanggan' -> simpan ke Custom Field 'bl_nama_pelanggan'"
              - t: "Flow yang Dipicu: Flow utama booking ('default reply' atau flow booking khusus)."
          - t: "AI Trigger 'bl_penawaran_intent':"
            sub:
              - t: "Deskripsi/Pemicu: 'Aktif saat AI mendeteksi pelanggan ingin booking lapangan. Set Custom Field 'bl_status_booking' menjadi 'penawaran'.'"
              - t: "Data yang Dikoleksi: 'status_booking_saat_ini' -> update Custom Field 'bl_status_booking' menjadi 'penawaran'"
              - t: "Flow yang Dipicu: Flow utama booking."
          - t: "AI Trigger 'bl_pengecekan_jadwal_intent':"
            sub:
              - t: "Deskripsi/Pemicu: 'Aktif saat AI mendeteksi pelanggan memberikan informasi waktu, durasi, atau jumlah lapangan. Set 'bl_status_booking' menjadi 'pengecekan'.'"
              - t: "Data yang Dikoleksi:"
                sub:
                  - t: "'status_booking_saat_ini' -> update Custom Field 'bl_status_booking' menjadi 'pengecekan'"
                  - t: "'waktu_mulai_booking' -> simpan ke Custom Field 'bl_oprasional_mulai_request'"
                  - t: "'waktu_selesai_booking' -> simpan ke Custom Field 'bl_oprasional_terakhir_request'"
              - t: "Flow yang Dipicu: Flow utama booking."
      - t: "Konfigurasi AI Parameters / Automation Rules (untuk manajemen tag otomatis)"
        sub:
          - t: "Aturan 'Otomatisasi Tag Penawaran':"
            sub:
              - t: "Pemicu 1: Custom Field 'bl_nama_pelanggan' -> 'has changed to any value'."
              - t: "Pemicu 2 (AND): Custom Field 'bl_status_booking' -> 'value is' -> 'penawaran'."
              - t: "Aksi 1: 'Remove Tag' -> Pilih semua tag KECUALI 'bl_penawaran'."
              - t: "Aksi 2: 'Add Tag' -> Pilih tag 'bl_penawaran'."
              - t: Simpan aturan.
          - t: "Aturan 'Otomatisasi Mulai Flow Pengecekan':"
            sub:
              - t: "Pemicu: Tag 'bl_pengecekan' -> 'is applied'."
              - t: "Aksi: 'Start another flow' -> Pilih flow utama booking ('default reply' atau flow booking khusus)."
              - t: Simpan aturan.
          - t: Pastikan semua aturan/parameter ini aktif.
      - t: Desain Alur Flow Booking di Flow Builder
        sub:
          - t: "Titik Awal Flow (Starting Step):"
            sub:
              - t: "Bisa dipicu oleh 'Default Reply', keyword, atau AI Trigger."
          - t: "Kondisi Awal (berdasarkan Tag atau Custom Field 'bl_status_booking'):"
            sub:
              - t: "Jika tag 'bl_perkenalan' ATAU 'bl_status_booking' == 'perkenalan': Lanjut ke blok OpenAI 'Olah Respon Perkenalan'."
              - t: "Jika tag 'bl_penawaran' ATAU 'bl_status_booking' == 'penawaran': Lanjut ke blok OpenAI 'Olah Respon Penawaran'."
              - t: "Jika tag 'bl_pengecekan' ATAU 'bl_status_booking' == 'pengecekan': Lanjut ke blok 'Konfirmasi Pengecekan Jadwal' lalu ke OpenAI 'Cek Status Ketersediaan'."
              - t: "Jika 'bl_status_booking' == 'konfirmasi': Lanjut ke blok 'Kirim Detail Konfirmasi'."
          - t: "Blok Action OpenAI 'Olah Respon Perkenalan':"
            sub:
              - t: "System Prompt: Gunakan Account Field 'bl_info_profil_bisnis' dan 'bl_info_gaya_komunikasi'. Instruksikan AI untuk menyapa, mengkonfirmasi nama (jika sudah ada dari AI Trigger), dan menanyakan kebutuhan booking."
              - t: "Save response to Custom Field: 'bl_reply_ai'."
              - t: "AI Trigger to use (jika NLU di dalam OpenAI node): 'bl_perkenalan_intent'."
              - t: "Lanjut ke 'Kirim Pesan AI'."
          - t: "Blok Action OpenAI 'Olah Respon Penawaran':"
            sub:
              - t: "System Prompt: Gunakan Account Field relevan. Instruksikan AI untuk memberikan informasi penawaran, harga, dan meminta detail tanggal/waktu booking."
              - t: "Save response to Custom Field: 'bl_reply_ai'."
              - t: "AI Trigger to use: 'bl_penawaran_intent'."
              - t: "Lanjut ke 'Kirim Pesan AI'."
          - t: "Blok Send Message 'Konfirmasi Pengecekan Jadwal':"
            sub:
              - t: "Text: \"Siap kak {{bl_nama_pelanggan}}, saya cek dulu ya ketersediaan jadwal dan lapangannya untuk {{bl_oprasional_mulai_request}} sampai {{bl_oprasional_terakhir_request}}.\""
              - t: "Lanjut ke OpenAI 'Cek Status Ketersediaan'."
          - t: "Blok Action OpenAI 'Cek Status Ketersediaan (Konversi Input User ke Format Kalender)':"
            sub:
              - t: "System Prompt: Instruksikan AI untuk mengkonversi input natural language dari user (misal, 'besok pagi jam 9 selama 2 jam') menjadi format Date & Time yang baku untuk Custom Field 'bl_oprasional_mulai_request' dan 'bl_oprasional_terakhir_request'. Gunakan Account Field 'bl_info_formula_oprasional' jika ada aturan khusus."
              - t: "Save response (hasil konversi atau status) to Custom Field: 'bl_respon_konversi_openai'."
              - t: "AI Trigger to use: 'bl_pengecekan_jadwal_intent'."
              - t: "Lanjut ke Action 'Appointment Scheduling'."
          - t: "Blok Action 'Appointment Scheduling' (Integrasi Google Calendar - pastikan !ref PanduanLengkapMembangunSistemBookingLapanganIntegrasiTagCustomFieldAIKalender@6 selesai):"
            sub:
              - t: "Calendar: Pilih kalender 'Booking Lapangan' yang sudah diintegrasikan."
              - t: "Check Availability (Cek Ketersediaan):"
                sub:
                  - t: "Start Date: Gunakan Custom Field 'bl_oprasional_mulai_request'."
                  - t: "End Date: Gunakan Custom Field 'bl_oprasional_terakhir_request'."
              - t: "Result use by AI: No (atau Yes, tergantung kebutuhan)."
              - t: "Save response to Custom Field: 'bl_respon_jadwal_kalender' (misal, 'Tersedia' atau 'Tidak Tersedia pada jam tersebut. Slot tersedia berikutnya adalah...')."
              - t: "Lanjut ke 'Kirim Hasil Pengecekan Jadwal'."
          - t: "Blok Send Message 'Kirim Pesan AI':"
            sub:
              - t: "Text: \"{{bl_reply_ai}}\"."
          - t: "Blok Send Message 'Kirim Hasil Pengecekan Jadwal':"
            sub:
              - t: "Text: \"{{bl_respon_jadwal_kalender}}\". Jika tersedia, tambahkan tombol 'Konfirmasi Booking'. Jika tidak, berikan opsi lain."
              - t: "Jika 'Konfirmasi Booking' ditekan, set 'bl_status_booking' = 'konfirmasi', tambahkan tag 'bl_pembayaran', dan arahkan ke alur pembayaran/konfirmasi akhir."
      - t: Konfigurasi Integrasi Google Calendar
        sub:
          - t: "Buka Tools (sidebar) -> Google Calendar -> Klik [Add] (atau 'Connect New Calendar')."
            sub:
              - t: "Beri nama koneksi kalender, misal: 'Booking Lapangan Futsal'."
              - t: Ikuti proses otorisasi untuk menghubungkan akun Google Calendar Anda.
              - t: Pilih kalender spesifik yang akan digunakan untuk booking.
              - t: "Konfigurasi 'Availability Settings' (jam operasional, durasi slot, buffer time jika perlu)."
              - t: "(Opsional) Notification -> Confirmation Flow: Pilih Flow yang akan dijalankan setelah booking berhasil dibuat di kalender (misal, Flow 'Booking Sukses kirim Notif')."
      - t: Persiapan Web Chatbot untuk Testing
        sub:
          - t: "Buka Connected Platforms (sidebar) -> Channels -> Web Chatbot."
          - t: "Klik [Add] -> Add New."
            sub:
              - t: "Name: 'Tes Booking Lapangan'."
              - t: Hubungkan ke Flow utama booking yang telah Anda buat.
              - t: Klik [Save].
          - t: "Klik ikon titik tiga di sebelah kanan Web Chatbot yang baru dibuat -> Get Link."
          - t: Gunakan link ini di browser untuk melakukan testing end-to-end dari alur booking.